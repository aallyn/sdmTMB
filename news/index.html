<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Changelog • sdmTMB</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-news">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sdmTMB</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/basic-intro.html">Introduction to modelling with sdmTMB</a>
    </li>
    <li>
      <a href="../articles/bayesian.html">Bayesian estimation with sdmTMB</a>
    </li>
    <li>
      <a href="../articles/cross-validation.html">Cross-validation for model evaluation and comparison</a>
    </li>
    <li>
      <a href="../articles/delta-models.html">Fitting delta (hurdle) models with sdmTMB</a>
    </li>
    <li>
      <a href="../articles/ggeffects.html">Visualizing marginal effects in sdmTMB models with ggeffects</a>
    </li>
    <li>
      <a href="../articles/index-standardization.html">Index standardization with sdmTMB</a>
    </li>
    <li>
      <a href="../articles/model-description.html">sdmTMB model description</a>
    </li>
    <li>
      <a href="../articles/pretty-plots.html">Making pretty maps with sdmTMB output</a>
    </li>
    <li>
      <a href="../articles/residual-checking.html">Residual checking with sdmTMB</a>
    </li>
    <li>
      <a href="../articles/spatial-trend-models.html">Fitting spatial trend models with sdmTMB</a>
    </li>
    <li>
      <a href="../articles/threshold-models.html">Threshold modeling with sdmTMB</a>
    </li>
    <li>
      <a href="../articles/visreg.html">Visualizing sdmTMB conditional effects using visreg</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/pbs-assess/sdmTMB/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href="https://github.com/pbs-assess/sdmTMB/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.0" id="sdmtmb-010">sdmTMB 0.1.0<a class="anchor" aria-label="anchor" href="#sdmtmb-010"></a></h2>
<ul><li><p>Preparing for release on CRAN.</p></li>
<li><p>ADREPORT several parameters in natural space. <a href="https://github.com/pbs-assess/sdmTMB/discussions/113" class="external-link uri">https://github.com/pbs-assess/sdmTMB/discussions/113</a></p></li>
<li><p>Improve robustness of model <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> to more esoteric mgcv smoothers.</p></li>
<li><p>Let <code>sims_var</code> work with multiple spatially varying slopes (<code>zeta_s</code>); return output in named list by coefficients. <a href="https://github.com/pbs-assess/sdmTMB/issues/107" class="external-link">#107</a></p></li>
<li><p>Add <code>threshold_coefs</code> to <code><a href="../reference/sdmTMB_simulate.html">sdmTMB_simulate()</a></code>.</p></li>
<li><p>Don’t make a fake mesh for non-spatial model (faster).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.26.9001" id="sdmtmb-00269001">sdmTMB 0.0.26.9001<a class="anchor" aria-label="anchor" href="#sdmtmb-00269001"></a></h2>
<ul><li><p>Add vignettes on visreg, ggeffects, and delta families (thanks J. Indivero!) <a href="https://github.com/pbs-assess/sdmTMB/issues/83" class="external-link">#83</a> <a href="https://github.com/pbs-assess/sdmTMB/issues/87" class="external-link">#87</a> <a href="https://github.com/pbs-assess/sdmTMB/issues/89" class="external-link">#89</a> Forecasting and presence-only vignettes to be merged in soon.</p></li>
<li><p>Add support for emmeans package. See <code><a href="../reference/emmeans.sdmTMB.html">?emmeans.sdmTMB</a></code> for examples.</p></li>
<li><p>Add support for effects package. The <code><a href="https://strengejacke.github.io/ggeffects/reference/ggpredict.html" class="external-link">ggeffects::ggeffect()</a></code> function can be used to make fast marginal effects plots. <code><a href="https://strengejacke.github.io/ggeffects/reference/ggpredict.html" class="external-link">ggeffects::ggpredict()</a></code> works with a custom fork of ggeffects. A pull request will be made shortly. <a href="https://github.com/pbs-assess/sdmTMB/issues/101" class="external-link">#101</a></p></li>
<li><p>Add <code><a href="https://rdrr.io/r/stats/vcov.html" class="external-link">vcov()</a></code>, <code>fixef()</code>, <code>df.residual</code>(), <code><a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula()</a></code>, <code><a href="https://rdrr.io/r/stats/terms.html" class="external-link">terms()</a></code>, and <code><a href="https://rdrr.io/r/stats/model.frame.html" class="external-link">model.frame()</a></code> methods.</p></li>
<li><p>Add support for <code>"cloglog"</code> link. Code adapted from glmmTMB for robust likelihood implementation.</p></li>
<li><p>For delta models, by default share the anisotropy parameters as in VAST. Separate anisotropy (old behavior) can be estimated with <code>control = sdmTMBcontrol(map = list(ln_H_input = factor(c(1, 2, 3, 4))))</code></p></li>
<li><p>Add experimental <code>do_index</code>, <code>predict_args</code>, and <code>index_args</code> in <code><a href="../reference/sdmTMB.html">sdmTMB()</a></code>. These can be used to perform prediction and index calculation at the same time as fitting. For very large datasets or meshes this can save time compared to fitting, predicting, and index calculation in 3 separate steps since the TMB AD object doesn’t have to be rebuilt. This will somewhat slow down the initial fitting.</p></li>
<li><p>Remove <code>max_gradient</code> and <code>bad_eig</code> from <code><a href="../reference/get_index.html">get_index()</a></code> output.</p></li>
<li><p>Use unique locations on prediction for huge speedups on large <code>newdata</code> gridded data.</p></li>
<li><p>Fix bug where in rare cases <code><a href="../reference/get_index.html">get_index()</a></code> would return gibberish small values.</p></li>
<li><p>Add <code>bayesian</code> argument, which when <code>TRUE</code> adds Jacobian adjustments for non-linear transformed parameters. This should be <code>TRUE</code> if the model will be passed to tmbstan, but <code>FALSE</code> otherwise. <a href="https://github.com/pbs-assess/sdmTMB/issues/95" class="external-link">#95</a></p></li>
<li><p>Add experimental and not-yet-exported <code>sdmTMB:::plot_anisotropy2()</code>.</p></li>
<li><p>Add many anisotropy, delta model, and index calculation unit tests.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.24.9001" id="sdmtmb-00249001">sdmTMB 0.0.24.9001<a class="anchor" aria-label="anchor" href="#sdmtmb-00249001"></a></h2>
<ul><li><p>Enable random walk random field TMB simulation in <code><a href="../reference/sdmTMB_simulate.html">sdmTMB_simulate()</a></code>.</p></li>
<li><p>Add check for irregular time with AR1 or random walk processes.</p></li>
<li><p>Fix bugs introduced by delta model code (offsets with <code>extra_time</code> and threshold model prediction).</p></li>
<li><p>Fix bug in <code><a href="../reference/sanity.html">sanity()</a></code> message with small random field SDs.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.24.9000" id="sdmtmb-00249000">sdmTMB 0.0.24.9000<a class="anchor" aria-label="anchor" href="#sdmtmb-00249000"></a></h2>
<ul><li><p>Add support for ‘delta’ (or ‘hurdle’) models. See examples and documentation in <code><a href="../reference/sdmTMB.html">?sdmTMB</a></code>. This has resulted in a substantial restructuring of the internal model code. By default both model components (e.g., binomial &amp; Gamma) share the same formula, spatial, and spatiotemporal structure, but these can be separated by supplying argument values in lists where the first element corresponds to the first model and the second element corresponds to the second model (with some limitations as described in <code><a href="../reference/sdmTMB.html">?sdmTMB</a></code> documentation ‘Details’).</p></li>
<li><p>Add support for multiple spatially varying coefficients (used to be limited to a single variable).</p></li>
<li><p>Add compatibility with the ‘visreg’ package for visualizing conditional effects of parameters. See <code><a href="../reference/visreg_delta.html">?visreg_delta</a></code> for examples.</p></li>
<li><p>Add MCMC residual type to <code><a href="../reference/residuals.sdmTMB.html">residuals.sdmTMB()</a></code>. These are a ‘better’ residuals but slower to calculate. See documentation ‘Details’ in <code><a href="../reference/residuals.sdmTMB.html">?residuals.sdmTMB</a></code>.</p></li>
<li><p>Make <code>offset</code> an argument in <code><a href="../reference/sdmTMB.html">sdmTMB()</a></code>. Using the reserved word <code>offset</code> in the formula is now deprecated.</p></li>
<li><p>Add <code><a href="../reference/sanity.html">sanity()</a></code> function to perform some basic sanity checks on model fits.</p></li>
<li><p>Make an <code><a href="../reference/sdmTMB.html">sdmTMB()</a></code> model object compatible with <code><a href="https://rdrr.io/r/stats/update.html" class="external-link">update()</a></code> method.</p></li>
<li><p>Remove several deprecated arguments.</p></li>
<li><p>Overhaul examples in <code><a href="../reference/sdmTMB.html">?sdmTMB</a></code>.</p></li>
<li><p>Use faster “low-rank sparse hessian bias-correction” TMB bias correction.</p></li>
<li><p>Add parallel processing support. See <code>parallel</code> argument in <code>sdmTMBcontrol</code>. By default, grabs value of <code>sdmTMB.cores</code> option. E.g. <code>options(sdmTMB.cores = 4)</code>. Only currently enabled on Mac/Linux. Using too many cores can be much slower than 1 core.</p></li>
<li><p>Use ‘cli’ package <code>cli_abort()</code>/<code>cli_warn()</code>/<code>cli_inform()</code> over <code><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop()</a></code>/<code><a href="https://rdrr.io/r/base/warning.html" class="external-link">warning()</a></code>/<code><a href="https://rdrr.io/r/base/message.html" class="external-link">message()</a></code>.</p></li>
<li><p>Add many unit tests.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.23.9000" id="sdmtmb-00239000">sdmTMB 0.0.23.9000<a class="anchor" aria-label="anchor" href="#sdmtmb-00239000"></a></h2>
<ul><li>A package version number that was used for internal testing in the ‘delta’ branch by several people.</li></ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.22.9001" id="sdmtmb-00229001">sdmTMB 0.0.22.9001<a class="anchor" aria-label="anchor" href="#sdmtmb-00229001"></a></h2>
<ul><li>Switch to TMBad library for ~3-fold speedup(!)</li></ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.22.9000" id="sdmtmb-00229000">sdmTMB 0.0.22.9000<a class="anchor" aria-label="anchor" href="#sdmtmb-00229000"></a></h2>
<ul><li>Fix bug in predictions with <code>poly(..., raw = FALSE)</code> on newdata. <a href="https://github.com/pbs-assess/sdmTMB/issues/77" class="external-link">#77</a></li></ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.21.9009" id="sdmtmb-00219009">sdmTMB 0.0.21.9009<a class="anchor" aria-label="anchor" href="#sdmtmb-00219009"></a></h2>
<ul><li><p>Add experimental <code><a href="../reference/sdmTMB_stacking.html">sdmTMB_stacking()</a></code> for ensemble model stacking weights.</p></li>
<li><p>Add fake mesh if random fields are all off. <a href="https://github.com/pbs-assess/sdmTMB/issues/59" class="external-link">#59</a></p></li>
<li><p>Make <code>predict(..., newdata = NULL)</code> also use <code>last.par.best</code> instead of <code>last.par</code> to match <code>newdata = df</code>.</p></li>
<li><p>Fix bug in MVN fixed-effect prior indexing</p></li>
<li><p><code>sims</code> and <code>n_sims</code> arguments have been deprecated and standardized to <code>nsim</code> to match the <code><a href="https://rdrr.io/r/stats/simulate.html" class="external-link">simulate()</a></code> S3 method.</p></li>
<li><p>Bias correction on <code><a href="../reference/get_index.html">get_index()</a></code> and <code><a href="../reference/get_index.html">get_cog()</a></code> is now selective and is just applied to the necessary derived parameters.</p></li>
<li><p>INLA projection matrix ‘A’ is now shared across spatial and spatiotemporal fields.</p></li>
<li><p>Add <code><a href="../reference/add_utm_columns.html">add_utm_columns()</a></code> to ease adding UTM columns.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.20.9001" id="sdmtmb-00209001">sdmTMB 0.0.20.9001<a class="anchor" aria-label="anchor" href="#sdmtmb-00209001"></a></h2>
<ul><li><p>Add <code><a href="../reference/dharma_residuals.html">dharma_residuals()</a></code>.</p></li>
<li><p>Fix bug in <code><a href="../reference/simulate.sdmTMB.html">simulate.sdmTMB()</a></code> and <code><a href="../reference/residuals.sdmTMB.html">residuals.sdmTMB()</a></code> for binomial family.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.20.9000" id="sdmtmb-00209000">sdmTMB 0.0.20.9000<a class="anchor" aria-label="anchor" href="#sdmtmb-00209000"></a></h2>
<ul><li><p>Smoothers now appear in <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> output. The format should roughly match brms. The main-effect component (e.g., <code>sdepth</code> for <code>s(depth)</code>) represents the linear component and the random effect (e.g., <code>sds(depth)</code>) component in the output corresponds to the standard deviation of the penalized weights.</p></li>
<li><p>Add <code>censored_poisson(link = 'log')</code> family; implemented by <a href="https://github.com/joenomiddlename" class="external-link">@joenomiddlename</a></p></li>
<li><p><code>fields</code> in <code><a href="../reference/sdmTMB.html">sdmTMB()</a></code> is now deprecated and replaced by <code>spatiotemporal</code>.</p></li>
<li><p><code>include_spatial</code> in <code><a href="../reference/sdmTMB.html">sdmTMB()</a></code> is now deprecated and replaced by <code>spatial</code>.</p></li>
<li><p><code>spatial_only</code> in <code><a href="../reference/sdmTMB.html">sdmTMB()</a></code> is now deprecated and replaced by <code>spatiotemporal</code>. E.g. <code>spatial_only = TRUE</code> is now <code>spatiotemporal = 'off'</code> or leaving <code>time = NULL</code>.</p></li>
<li><p><code>spde</code> in <code><a href="../reference/sdmTMB.html">sdmTMB()</a></code> is now deprecated and replaced by <code>mesh</code>.</p></li>
<li><p><code><a href="../reference/sdmTMB_simulate.html">sdmTMB_simulate()</a></code> is new and will likely replace <code>sdmTMB_sim()</code> eventually. <code><a href="../reference/sdmTMB_simulate.html">sdmTMB_simulate()</a></code> is set up to take a formula and a data frame and is easier to use if you want different spatial observations (and covariates) for each time slice. It can also take a fitted model and modify parts of it to simulate. Finally, this function uses TMB for simulation and so is much faster and more flexible in what it can simulate (e.g., anisotropy) than the previous version.</p></li>
<li><p><code>spatial_trend</code> is now <code>spatial_varying</code> and accepts a one-sided formula <em>with a single predictor</em> of any coefficient that should varying in space as a random field. Note that you may want to include a fixed effect for the same variable to improve interpretability. If the (scaled) time column is used, it will represent a local-time-trend model as before.</p></li>
<li><p>The Tweedie power (p) parameter is now in <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> and <code><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy()</a></code> output.</p></li>
<li><p><code>thetaf</code> is now <code>tweedie_p</code> in <code>sdmTMB_sim()</code>.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.19.9003" id="sdmtmb-00199003">sdmTMB 0.0.19.9003<a class="anchor" aria-label="anchor" href="#sdmtmb-00199003"></a></h2>
<ul><li>Fix bug affecting prediction with <code>se_fit = TRUE</code> for breakpoint models.</li></ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.19.9002" id="sdmtmb-00199002">sdmTMB 0.0.19.9002<a class="anchor" aria-label="anchor" href="#sdmtmb-00199002"></a></h2>
<ul><li>Simulation from the parameter covariance matrix works if random effects are turned off. <a href="https://github.com/pbs-assess/sdmTMB/issues/57" class="external-link">#57</a></li></ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.19.9000" id="sdmtmb-00199000">sdmTMB 0.0.19.9000<a class="anchor" aria-label="anchor" href="#sdmtmb-00199000"></a></h2>
<ul><li>Smoothers <code>s()</code> are now <em>penalized</em> smoothers: they determine the degree of wiggliness (as in mgcv) and it is no longer necessary to choose an appropriate <code>k</code> value a priori. Models fit with previous versions of sdmTMB with <code>s(x, k = ...)</code> will not match models specified the same way in version &gt;= 0.0.19 since the basis functions are now penalized. All the various <code><a href="https://rdrr.io/pkg/mgcv/man/s.html" class="external-link">mgcv::s()</a></code> options should be supported but <code>t2()</code> (and <code>ti()</code> and <code>te()</code>) are not supported.</li></ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.18.9001" id="sdmtmb-00189001">sdmTMB 0.0.18.9001<a class="anchor" aria-label="anchor" href="#sdmtmb-00189001"></a></h2>
<ul><li><p>Add ELPD (expected log predictive density) to <code><a href="../reference/sdmTMB_cv.html">sdmTMB_cv()</a></code> <a href="https://arxiv.org/abs/1507.04544" class="external-link uri">https://arxiv.org/abs/1507.04544</a></p></li>
<li><p>Fix bug evaluating <code>...</code> when <code><a href="../reference/sdmTMB_cv.html">sdmTMB_cv()</a></code> was called within a function. <a href="https://github.com/pbs-assess/sdmTMB/issues/54" class="external-link">#54</a></p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.18.9000" id="sdmtmb-00189000">sdmTMB 0.0.18.9000<a class="anchor" aria-label="anchor" href="#sdmtmb-00189000"></a></h2>
<ul><li>Fix minor error in PC Matern prior</li></ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.17.9000" id="sdmtmb-00179000">sdmTMB 0.0.17.9000<a class="anchor" aria-label="anchor" href="#sdmtmb-00179000"></a></h2>
<ul><li><p>Add random walk option: <code>fields = "RW"</code>.</p></li>
<li><p>Depreciate <code>ar1_fields</code> argument. See new <code>fields</code> argument in `sdmTMB().</p></li>
<li><p>Many packages moved from ‘Imports’ to ‘Suggests’</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.16.9000" id="sdmtmb-00169000">sdmTMB 0.0.16.9000<a class="anchor" aria-label="anchor" href="#sdmtmb-00169000"></a></h2>
<ul><li><p>Lower default <code><a href="https://rdrr.io/r/stats/nlminb.html" class="external-link">nlminb()</a></code> <code>eval.max</code> and <code>iter.max</code> to 1000 and 2000.</p></li>
<li><p>Added <code>profile</code> option in <code><a href="../reference/sdmTMBcontrol.html">sdmTMBcontrol()</a></code>. This can dramatically improve model fitting speed with many fixed effects. Note the result is likely to be slightly different with <code>TRUE</code> vs. <code>FALSE</code>.</p></li>
<li><p>Added simulation from the MVN precision matrix to <code><a href="../reference/predict.sdmTMB.html">predict.sdmTMB()</a></code>. See the <code>sims</code> argument.</p></li>
<li><p>Added <code><a href="../reference/gather_sims.html">gather_sims()</a></code> and <code><a href="../reference/gather_sims.html">spread_sims()</a></code> to extract parameter simulations from the joint precision matrix in a format that matches the tidybayes package.</p></li>
<li><p>Added <code><a href="../reference/get_index_sims.html">get_index_sims()</a></code> for a population index calculated from the MVN simulation draws.</p></li>
<li><p>Added <code><a href="../reference/extract_mcmc.html">extract_mcmc()</a></code> to extract MCMC samples if the model is passed to tmbstan.</p></li>
<li><p>Added the ability to predict from a model fitted with tmbstan. See the <code>tmbstan_model</code> argument in <code><a href="../reference/predict.sdmTMB.html">predict.sdmTMB()</a></code>.</p></li>
<li><p>Allowed for separate random field Matern range parameters for spatial and spatiotemporal fields. E.g. <code>sdmTMB(shared_range = FALSE)</code></p></li>
<li><p>Bounded the AR1 rho parameter between -0.999 and 0.999 to improve convergence; was -1 to 1. Please post an issue if this creates problems for your model.</p></li>
<li><p>Added <code>map</code>, <code>start</code>, <code>lower</code>, and <code>upper</code> options to control model fitting. See <code><a href="../reference/sdmTMBcontrol.html">sdmTMBcontrol()</a></code>.</p></li>
<li><p>Added priors for all parameters. See <code>?sdmTMB::priors</code> and the <code>priors</code> argument in <code><a href="../reference/sdmTMB.html">sdmTMB()</a></code>. PC priors are available for the random fields. See <code><a href="../reference/priors.html">?pc_matern</a></code> and the details there.</p></li>
<li><p>Moved many less-common arguments from <code><a href="../reference/sdmTMB.html">sdmTMB()</a></code> to <code><a href="../reference/sdmTMBcontrol.html">sdmTMBcontrol()</a></code>.</p></li>
<li><p>Fix bug in <code><a href="../reference/sdmTMB_cv.html">sdmTMB_cv()</a></code> where fitting and testing data splits were reversed. I.e., the small chunk was fit; the big chunk was tested.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.15.9000" id="sdmtmb-00159000">sdmTMB 0.0.15.9000<a class="anchor" aria-label="anchor" href="#sdmtmb-00159000"></a></h2>
<ul><li><p>Added experimental penalized complexity (PC) prior as used in INLA. See arguments <code>matern_prior_O</code> and <code>matern_prior_E</code>.</p></li>
<li><p>Added back <code>normalize</code> argument to <code><a href="../reference/sdmTMB.html">sdmTMB()</a></code> and default to <code>FALSE</code>. Setting to <code>TRUE</code> can dramatically speed up some model fits (~4 times for some test models).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.14.9003" id="sdmtmb-00149003">sdmTMB 0.0.14.9003<a class="anchor" aria-label="anchor" href="#sdmtmb-00149003"></a></h2>
<ul><li>Added vignette on making pretty maps of the output</li></ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.14.9001" id="sdmtmb-00149001">sdmTMB 0.0.14.9001<a class="anchor" aria-label="anchor" href="#sdmtmb-00149001"></a></h2>
<ul><li>Added some protections for possible user errors:<ul><li>AR1 with a spatial-only model</li>
<li>Missing factor levels in time</li>
<li>Coordinate systems that are too big</li>
</ul></li></ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.14.9000" id="sdmtmb-00149000">sdmTMB 0.0.14.9000<a class="anchor" aria-label="anchor" href="#sdmtmb-00149000"></a></h2>
<ul><li><p>Add <code>re_form_iid</code> to <code><a href="../reference/predict.sdmTMB.html">predict.sdmTMB()</a></code>.</p></li>
<li><p>Add <code>map_rf</code> option to <code><a href="../reference/sdmTMB.html">sdmTMB()</a></code>. This lets you map (fix at their starting values of zero) all random fields to produce a classic GLM/GLMM.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.13.9000" id="sdmtmb-00139000">sdmTMB 0.0.13.9000<a class="anchor" aria-label="anchor" href="#sdmtmb-00139000"></a></h2>
<ul><li>Add IID random intercepts interface. E.g. <code>... + (1 | g)</code> <a href="https://github.com/pbs-assess/sdmTMB/issues/34" class="external-link">#34</a></li></ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.12.9000" id="sdmtmb-00129000">sdmTMB 0.0.12.9000<a class="anchor" aria-label="anchor" href="#sdmtmb-00129000"></a></h2>
<ul><li>Add <code>epsilon_predictor</code> argument in <code><a href="../reference/sdmTMB.html">sdmTMB()</a></code> to allow a model of the spatiotemporal variance through time.</li></ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.11.9000" id="sdmtmb-00119000">sdmTMB 0.0.11.9000<a class="anchor" aria-label="anchor" href="#sdmtmb-00119000"></a></h2>
<ul><li>Add <code>penalties</code> argument to allow for regularization.</li></ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.10.9001" id="sdmtmb-00109001">sdmTMB 0.0.10.9001<a class="anchor" aria-label="anchor" href="#sdmtmb-00109001"></a></h2>
<ul><li>Fix Student-t degrees of freedom in the randomized quantile residuals</li></ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.10.9000" id="sdmtmb-00109000">sdmTMB 0.0.10.9000<a class="anchor" aria-label="anchor" href="#sdmtmb-00109000"></a></h2>
<ul><li><p>Fixed parameter initialization for inverse links <a href="https://github.com/pbs-assess/sdmTMB/issues/35" class="external-link">#35</a></p></li>
<li><p>Switched Gamma ‘phi’ parameter to representing shape instead of CV to match glm(), glmmTMB(), etc.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.9.9000" id="sdmtmb-0099000">sdmTMB 0.0.9.9000<a class="anchor" aria-label="anchor" href="#sdmtmb-0099000"></a></h2>
<ul><li>Switched the density/abundance index calculation to use the link function as opposed to a hardcoded log() so that the <code>get_generic()</code> function can be used to grab things like standardized average values of the response across a grid. What used to be <code>log_total</code> in the raw TMB output is now <code>link_total</code> but most users you shouldn’t notice any difference.</li></ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.8.9000" id="sdmtmb-0089000">sdmTMB 0.0.8.9000<a class="anchor" aria-label="anchor" href="#sdmtmb-0089000"></a></h2>
<ul><li><p>Overhauled the simulation function. The function is now called <code>sdmTMB_sim()</code> and uses INLA functions instead of RandomFields functions for simulating the random fields.</p></li>
<li><p>The simulation function can now accommodate all families and links and takes an INLA mesh as input.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.7.9001" id="sdmtmb-0079001">sdmTMB 0.0.7.9001<a class="anchor" aria-label="anchor" href="#sdmtmb-0079001"></a></h2>
<ul><li>Allow specifying degrees of freedom in the Student-t family <a href="https://github.com/pbs-assess/sdmTMB/issues/29" class="external-link">#29</a></li></ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.7.9000" id="sdmtmb-0079000">sdmTMB 0.0.7.9000<a class="anchor" aria-label="anchor" href="#sdmtmb-0079000"></a></h2>
<ul><li><p>Added a <code><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy()</a></code> method (from broom and broom.mixed) to return a data frame of parameter estimates. The function can extract the fixed effects or the random effect parameters (variances, AR1 correlation, spatial range).</p></li>
<li><p>Added an argument <code>extra_time</code> to <code><a href="../reference/sdmTMB.html">sdmTMB()</a></code>. This introduces additional time slices that you can then predict on if you want to interpolate or forecast. Internally, it uses Eric Ward’s ‘weights hack’. This is also useful if you have data unevenly spaced in time and you want the gaps evenly spaced for a random walk or AR1 process (add any missing years to <code>extra_time</code>).</p></li>
<li><p><code>make_spde()</code> is now replaced with <code><a href="../reference/make_mesh.html">make_mesh()</a></code> and <code>make_spde()</code> has been soft deprecated. <code><a href="../reference/make_mesh.html">make_mesh()</a></code> carries through the x and y column names to the predict function and is more in line with the tidyverse style of taking a data frame first.</p></li>
<li><p><code><a href="../reference/make_mesh.html">make_mesh()</a></code> can accept <code>cutoff</code> as an argument (as in INLA), which is likely a better default way to specify the mesh since it scales across regions better and is line with the literature on INLA.</p></li>
<li><p><code><a href="../reference/make_mesh.html">make_mesh()</a></code> can use a binary search algorithm to find a cutoff that best matches a desired number of knots (thanks to Kelli Johnson for the idea).</p></li>
<li><p>Barrier meshes are now possible. See <code><a href="../reference/add_barrier_mesh.html">add_barrier_mesh()</a></code> for an example.</p></li>
<li><p>There is a pkgdown website now that gets auto generated with GitHub actions.</p></li>
<li><p>There is the start of a model description vignette. It is very much a work in progress.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.6.9009" id="sdmtmb-0069009">sdmTMB 0.0.6.9009<a class="anchor" aria-label="anchor" href="#sdmtmb-0069009"></a></h2>
<ul><li>Fixed bug in dlnorm</li></ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.6.9005" id="sdmtmb-0069005">sdmTMB 0.0.6.9005<a class="anchor" aria-label="anchor" href="#sdmtmb-0069005"></a></h2>
<ul><li>Fixed bug in predictions with standard errors where one(?) parameter (a breakpoint parameter) would be passed in at its initial instead of MLE value.</li></ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.6.9004" id="sdmtmb-0069004">sdmTMB 0.0.6.9004<a class="anchor" aria-label="anchor" href="#sdmtmb-0069004"></a></h2>
<ul><li><p>Fixed bug with predictions on new data in models with break points</p></li>
<li>
<p>Overhauled cross validation function. The function now:</p>
<ul><li>uses Eric’s weights hack so it can also be used for forecasting</li>
<li>initializes subsequent folds at the MLE of the first fold for considerable speed increases</li>
<li>works in parallel if a future plan initialized; see examples</li>
</ul></li>
<li><p>Added threshold parameters to the print method</p></li>
<li><p>Added forecasting example with the weights hack</p></li>
<li><p>Fixed bug in linear break point models</p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.6.9002" id="sdmtmb-0069002">sdmTMB 0.0.6.9002<a class="anchor" aria-label="anchor" href="#sdmtmb-0069002"></a></h2>
<ul><li><p>Fixed GAM predictions with all 0s in new data.</p></li>
<li><p>Add linear and logistic threshold models. <a href="https://github.com/pbs-assess/sdmTMB/issues/17" class="external-link">#17</a></p></li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.5.9000" id="sdmtmb-0059000">sdmTMB 0.0.5.9000<a class="anchor" aria-label="anchor" href="#sdmtmb-0059000"></a></h2>
<ul><li><p>Added parsing of mgcv formulas for splines. <a href="https://github.com/pbs-assess/sdmTMB/issues/16" class="external-link">#16</a></p></li>
<li><p>Added ability to predict with standard errors at the population level. This helps with making marginal-effect plots. <a href="https://github.com/pbs-assess/sdmTMB/issues/15" class="external-link">#15</a></p></li>
<li><p>Added optimization options to aid convergence. Also added <code><a href="../reference/run_extra_optimization.html">run_extra_optimization()</a></code> to run these on already fit models. Default is for no extra optimization.</p></li>
<li><p>Added binomial likelihood to cross validation. Git hash <code>ee3f3ba</code>.</p></li>
<li><p>Started keeping track of news in <code>NEWS.md</code>.</p></li>
</ul></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Sean C. Anderson, Eric J. Ward, Lewis A. K. Barnett, Philina A. English.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

