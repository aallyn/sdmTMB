<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Visualizing sdmTMB conditional effects using visreg • sdmTMB</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Visualizing sdmTMB conditional effects using visreg">
<meta property="og:description" content="sdmTMB">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sdmTMB</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/basic-intro.html">Introduction to modelling with sdmTMB</a>
    </li>
    <li>
      <a href="../articles/bayesian.html">Bayesian estimation with sdmTMB</a>
    </li>
    <li>
      <a href="../articles/cross-validation.html">Cross-validation for model evaluation and comparison</a>
    </li>
    <li>
      <a href="../articles/delta-models.html">Fitting delta (hurdle) models with sdmTMB</a>
    </li>
    <li>
      <a href="../articles/ggeffects.html">Visualizing marginal effects in sdmTMB models with ggeffects</a>
    </li>
    <li>
      <a href="../articles/index-standardization.html">Index standardization with sdmTMB</a>
    </li>
    <li>
      <a href="../articles/model-description.html">sdmTMB model description</a>
    </li>
    <li>
      <a href="../articles/pretty-plots.html">Making pretty maps with sdmTMB output</a>
    </li>
    <li>
      <a href="../articles/residual-checking.html">Residual checking with sdmTMB</a>
    </li>
    <li>
      <a href="../articles/spatial-trend-models.html">Fitting spatial trend models with sdmTMB</a>
    </li>
    <li>
      <a href="../articles/threshold-models.html">Threshold modeling with sdmTMB</a>
    </li>
    <li>
      <a href="../articles/visreg.html">Visualizing sdmTMB conditional effects using visreg</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/pbs-assess/sdmTMB/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="visreg_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Visualizing sdmTMB conditional effects using visreg</h1>
                        <h4 data-toc-skip class="author">Julia Indivero, Sean Anderson, Lewis Barnett, Philina English, Eric Ward</h4>
            
            <h4 data-toc-skip class="date">2022-10-18</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/pbs-assess/sdmTMB/blob/HEAD/vignettes/visreg.Rmd" class="external-link"><code>vignettes/visreg.Rmd</code></a></small>
      <div class="hidden name"><code>visreg.Rmd</code></div>

    </div>

    
    
<p><strong>If the code in this vignette has not been evaluated, a rendered version is available on the <a href="https://pbs-assess.github.io/sdmTMB/index.html" class="external-link">documentation site</a> under ‘Articles’.</strong></p>
<p>We can use the <a href="https://CRAN.R-project.org/package=visreg" class="external-link">visreg</a> package to visually inspect the conditional effects of explanatory variables in sdmTMB models.</p>
<p>We will use the built-in Pacific cod survey data for this example. We will fit a model with scaled depth and a factor effect of year using a Tweedie distribution.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pcod_2011</span><span class="op">$</span><span class="va">fyear</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">pcod_2011</span><span class="op">$</span><span class="va">year</span><span class="op">)</span></span>
<span><span class="va">mesh</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_mesh.html">make_mesh</a></span><span class="op">(</span><span class="va">pcod_2011</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"X"</span>, <span class="st">"Y"</span><span class="op">)</span>, cutoff <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></span>
<span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sdmTMB.html">sdmTMB</a></span><span class="op">(</span></span>
<span>  <span class="va">density</span> <span class="op">~</span> <span class="fl">0</span> <span class="op">+</span> <span class="fu">s</span><span class="op">(</span><span class="va">depth_scaled</span><span class="op">)</span> <span class="op">+</span> <span class="va">fyear</span>,</span>
<span>  data <span class="op">=</span> <span class="va">pcod_2011</span>,</span>
<span>  mesh <span class="op">=</span> <span class="va">mesh</span>,</span>
<span>  spatial <span class="op">=</span> <span class="st">"off"</span>, <span class="co"># off for vignette building speed</span></span>
<span>  family <span class="op">=</span> <span class="fu"><a href="../reference/families.html">tweedie</a></span><span class="op">(</span>link <span class="op">=</span> <span class="st">"log"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>We can then plot the effect of depth in link space. This shows the value of depth on the x-axis and the change in response on the y-axis, holding all other variables constant.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="http://pbreheny.github.io/visreg/reference/visreg.html" class="external-link">visreg</a></span><span class="op">(</span><span class="va">fit</span>, xvar <span class="op">=</span> <span class="st">"depth_scaled"</span><span class="op">)</span></span></code></pre></div>
<p><img src="visreg_files/figure-html/unnamed-chunk-3-1.png" width="672"></p>
<p>Note that by default, randomized quantile residuals are included. These should be normally distributed in link space if the model is consistent with the data. These can be turned off with <code>partial = FALSE</code></p>
<p>The default, a visreg plot uses base graphics. We can set <code>gg = TRUE</code> to get a ggplot version:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="http://pbreheny.github.io/visreg/reference/visreg.html" class="external-link">visreg</a></span><span class="op">(</span><span class="va">fit</span>, xvar <span class="op">=</span> <span class="st">"depth_scaled"</span>, gg <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">g</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"Depth scaled"</span><span class="op">)</span></span></code></pre></div>
<p><img src="visreg_files/figure-html/unnamed-chunk-4-1.png" width="672"></p>
<p>We can also grab the underlying data it creates and make our own plot:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="http://pbreheny.github.io/visreg/reference/visreg.html" class="external-link">visreg</a></span><span class="op">(</span><span class="va">fit</span>, xvar <span class="op">=</span> <span class="st">"depth_scaled"</span>, plot <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">d</span><span class="op">$</span><span class="va">fit</span><span class="op">)</span></span>
<span><span class="co">#&gt;   depth_scaled fyear density visregFit visregLwr visregUpr</span></span>
<span><span class="co">#&gt; 1    -2.933490  2011       0  2.629109  1.122037  4.136180</span></span>
<span><span class="co">#&gt; 2    -2.877239  2011       0  2.524428  1.158454  3.890403</span></span>
<span><span class="co">#&gt; 3    -2.820988  2011       0  2.420117  1.185479  3.654754</span></span>
<span><span class="co">#&gt; 4    -2.764737  2011       0  2.316777  1.200200  3.433353</span></span>
<span><span class="co">#&gt; 5    -2.708486  2011       0  2.215281  1.199393  3.231169</span></span>
<span><span class="co">#&gt; 6    -2.652235  2011       0  2.116732  1.180156  3.053308</span></span>
<span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">d</span><span class="op">$</span><span class="va">fit</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">depth_scaled</span>, y <span class="op">=</span> <span class="va">visregFit</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html" class="external-link">geom_ribbon</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>ymin <span class="op">=</span> <span class="va">visregLwr</span>, ymax <span class="op">=</span> <span class="va">visregUpr</span><span class="op">)</span>, alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># residuals are in d$res</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">d</span><span class="op">$</span><span class="va">res</span><span class="op">)</span></span>
<span><span class="co">#&gt;   depth_scaled fyear density  visregRes visregPos</span></span>
<span><span class="co">#&gt; 1    0.7408840  2011       0   5.598588      TRUE</span></span>
<span><span class="co">#&gt; 2   -2.7062455  2011       0   1.929910     FALSE</span></span>
<span><span class="co">#&gt; 3   -2.9334899  2011       0   1.758294     FALSE</span></span>
<span><span class="co">#&gt; 4   -0.2224156  2011       0   3.533598     FALSE</span></span>
<span><span class="co">#&gt; 5    1.8685071  2011       0  -3.572073      TRUE</span></span>
<span><span class="co">#&gt; 6    2.3175211  2011       0 -10.493536     FALSE</span></span>
<span></span>
<span><span class="va">g</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">visregRes</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">d</span><span class="op">$</span><span class="va">res</span>, size <span class="op">=</span> <span class="fl">1</span>, alpha <span class="op">=</span> <span class="fl">0.4</span><span class="op">)</span></span></code></pre></div>
<p><img src="visreg_files/figure-html/unnamed-chunk-5-1.png" width="672"></p>
<p>We can look at the effect of depth in each year separately, either in separate plots or overlaid on the same plot.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="http://pbreheny.github.io/visreg/reference/visreg.html" class="external-link">visreg</a></span><span class="op">(</span><span class="va">fit</span>, xvar <span class="op">=</span> <span class="st">"depth_scaled"</span>, by <span class="op">=</span> <span class="st">"fyear"</span>, gg <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="visreg_files/figure-html/unnamed-chunk-6-1.png" width="672"></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="http://pbreheny.github.io/visreg/reference/visreg.html" class="external-link">visreg</a></span><span class="op">(</span><span class="va">fit</span>, xvar <span class="op">=</span> <span class="st">"depth_scaled"</span>, by <span class="op">=</span> <span class="st">"fyear"</span>, overlay <span class="op">=</span> <span class="cn">TRUE</span>, gg <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="visreg_files/figure-html/unnamed-chunk-6-2.png" width="672"></p>
<p>And at the effect of depth on the response scale, rather than link (log) scale.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="http://pbreheny.github.io/visreg/reference/visreg.html" class="external-link">visreg</a></span><span class="op">(</span><span class="va">fit</span>, xvar <span class="op">=</span> <span class="st">"depth_scaled"</span>, scale <span class="op">=</span> <span class="st">"response"</span><span class="op">)</span></span></code></pre></div>
<p><img src="visreg_files/figure-html/unnamed-chunk-7-1.png" width="672"></p>
<p>In this case, visreg adds “rug” lines indicating the where the data were observed along the x-axis variable.</p>
<p><code><a href="http://pbreheny.github.io/visreg/reference/visreg.html" class="external-link">visreg()</a></code> can also be used to visualize just the categorical effect of year.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="http://pbreheny.github.io/visreg/reference/visreg.html" class="external-link">visreg</a></span><span class="op">(</span><span class="va">fit</span>, xvar <span class="op">=</span> <span class="st">"fyear"</span><span class="op">)</span></span></code></pre></div>
<p><img src="visreg_files/figure-html/unnamed-chunk-8-1.png" width="672"></p>
<p>We can also simultaneously compare both depth and year with a two-dimensional contour plot.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="http://pbreheny.github.io/visreg/reference/visreg2d.html" class="external-link">visreg2d</a></span><span class="op">(</span><span class="va">fit</span>, xvar <span class="op">=</span> <span class="st">"fyear"</span>, yvar <span class="op">=</span> <span class="st">"depth_scaled"</span><span class="op">)</span></span></code></pre></div>
<p><img src="visreg_files/figure-html/unnamed-chunk-9-1.png" width="672"></p>
<p><code><a href="http://pbreheny.github.io/visreg/reference/visreg2d.html" class="external-link">visreg2d()</a></code> is different from <code><a href="http://pbreheny.github.io/visreg/reference/visreg.html" class="external-link">visreg()</a></code> in that it doesn’t take a <code>gg</code> argument. Instead, it takes <code>plot.type = c("image", "persp", "rgl", "gg")</code>. For example:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="http://pbreheny.github.io/visreg/reference/visreg2d.html" class="external-link">visreg2d</a></span><span class="op">(</span><span class="va">fit</span>, xvar <span class="op">=</span> <span class="st">"fyear"</span>, yvar <span class="op">=</span> <span class="st">"depth_scaled"</span>, plot.type <span class="op">=</span> <span class="st">"gg"</span><span class="op">)</span></span></code></pre></div>
<p><img src="visreg_files/figure-html/unnamed-chunk-10-1.png" width="672"></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="http://pbreheny.github.io/visreg/reference/visreg2d.html" class="external-link">visreg2d</a></span><span class="op">(</span><span class="va">fit</span>, xvar <span class="op">=</span> <span class="st">"fyear"</span>, yvar <span class="op">=</span> <span class="st">"depth_scaled"</span>, plot.type <span class="op">=</span> <span class="st">"persp"</span><span class="op">)</span></span></code></pre></div>
<p><img src="visreg_files/figure-html/unnamed-chunk-11-1.png" width="672"></p>
<div class="section level2">
<h2 id="delta-models">Delta models<a class="anchor" aria-label="anchor" href="#delta-models"></a>
</h2>
<p><code><a href="http://pbreheny.github.io/visreg/reference/visreg.html" class="external-link">visreg()</a></code> can also be used to plot the output of delta models from <code><a href="../reference/sdmTMB.html">sdmTMB()</a></code> by using similar code for the previous plots, but using the sdmTMB wrapper function <code><a href="../reference/visreg_delta.html">visreg_delta()</a></code> and specifying <code>model = 1</code> for the encounter (0 vs. non-zero) model or <code>model = 2</code> for the positive component model (e.g., Gamma, lognormal). For example:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fit_dg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sdmTMB.html">sdmTMB</a></span><span class="op">(</span></span>
<span>  <span class="va">density</span> <span class="op">~</span> <span class="fu">s</span><span class="op">(</span><span class="va">depth_scaled</span>, <span class="va">year</span>, k <span class="op">=</span> <span class="fl">8</span><span class="op">)</span>,</span>
<span>  data <span class="op">=</span> <span class="va">pcod_2011</span>,</span>
<span>  mesh <span class="op">=</span> <span class="va">pcod_mesh_2011</span>,</span>
<span>  spatial <span class="op">=</span> <span class="st">"off"</span>, <span class="co"># for vignette speed</span></span>
<span>  family <span class="op">=</span> <span class="fu"><a href="../reference/families.html">delta_gamma</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/visreg_delta.html">visreg_delta</a></span><span class="op">(</span><span class="va">fit_dg</span>, xvar <span class="op">=</span> <span class="st">"depth_scaled"</span>, model <span class="op">=</span> <span class="fl">1</span>, gg <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="visreg_files/figure-html/unnamed-chunk-12-1.png" width="672"></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/visreg_delta.html">visreg_delta</a></span><span class="op">(</span><span class="va">fit_dg</span>, xvar <span class="op">=</span> <span class="st">"depth_scaled"</span>, model <span class="op">=</span> <span class="fl">2</span>, gg <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="visreg_files/figure-html/unnamed-chunk-12-2.png" width="672"></p>
<p>Note that for plotting with <code><a href="../reference/visreg_delta.html">visreg_delta()</a></code>, categorical variables like year need to be designated as a factor in the data frame, as in the example above with <code>fyear</code>, rather than in the model formula (e.g., <code>+ as.factor(year)</code>).</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Sean C. Anderson, Eric J. Ward, Lewis A. K. Barnett, Philina A. English.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
